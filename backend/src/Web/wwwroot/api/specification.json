{
  "x-generator": "NSwag v14.0.3.0 (NJsonSchema v11.0.0.0 (Newtonsoft.Json v13.0.0.0))",
  "openapi": "3.0.0",
  "info": {
    "title": "API Cây Gia Phả",
    "description": "API để quản lý thông tin cây gia phả, bao gồm các dòng họ, thành viên, và các mối quan hệ.",
    "version": "1.0.0"
  },
  "paths": {
    "/api/AI/biography": {
      "post": {
        "tags": [
          "AI"
        ],
        "operationId": "AI_GenerateBiography",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateBiographyCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BiographyResultDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/AI/biography/last/{memberId}": {
      "get": {
        "tags": [
          "AI"
        ],
        "operationId": "AI_GetLastAIBiography",
        "parameters": [
          {
            "name": "memberId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIBiographyDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/AI/biography/providers": {
      "get": {
        "tags": [
          "AI"
        ],
        "operationId": "AI_GetAIProviders",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AIProviderDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/AI/biography/save": {
      "post": {
        "tags": [
          "AI"
        ],
        "operationId": "AI_SaveBiography",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SaveAIBiographyCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "guid"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "operationId": "Auth_Login",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/Auth/register": {
      "post": {
        "tags": [
          "Auth"
        ],
        "operationId": "Auth_Register",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/Auth/user": {
      "get": {
        "tags": [
          "Auth"
        ],
        "operationId": "Auth_GetCurrentUser",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResult"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Chat": {
      "post": {
        "tags": [
          "Chat"
        ],
        "operationId": "Chat_ChatWithAssistant",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/Dashboard/stats": {
      "get": {
        "tags": [
          "Dashboard"
        ],
        "operationId": "Dashboard_GetDashboardStats",
        "parameters": [
          {
            "name": "familyId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardStatsDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Events": {
      "get": {
        "tags": [
          "Events"
        ],
        "operationId": "Events_GetEvents",
        "parameters": [
          {
            "name": "SearchTerm",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "EventType",
            "in": "query",
            "schema": {
              "nullable": true,
              "oneOf": [
                {
                  "$ref": "#/components/schemas/EventType"
                }
              ]
            },
            "x-position": 2
          },
          {
            "name": "FamilyId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "StartDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 4
          },
          {
            "name": "EndDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 5
          },
          {
            "name": "Location",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 6
          },
          {
            "name": "RelatedMemberId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 7
          },
          {
            "name": "Page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 8
          },
          {
            "name": "ItemsPerPage",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 9
          },
          {
            "name": "SortBy",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 10
          },
          {
            "name": "SortOrder",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 11
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EventDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "post": {
        "tags": [
          "Events"
        ],
        "operationId": "Events_Create",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEventCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "guid"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Events/{id}": {
      "get": {
        "tags": [
          "Events"
        ],
        "operationId": "Events_GetEventById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EventDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "put": {
        "tags": [
          "Events"
        ],
        "operationId": "Events_Update",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateEventCommand"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Events"
        ],
        "operationId": "Events_Delete",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Events/search": {
      "get": {
        "tags": [
          "Events"
        ],
        "operationId": "Events_Search",
        "parameters": [
          {
            "name": "SearchQuery",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "StartDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "EndDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "Type",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 4
          },
          {
            "name": "FamilyId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 5
          },
          {
            "name": "MemberId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 6
          },
          {
            "name": "Page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 7
          },
          {
            "name": "ItemsPerPage",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 8
          },
          {
            "name": "SortBy",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 9
          },
          {
            "name": "SortOrder",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 10
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedListOfEventDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Events/upcoming": {
      "get": {
        "tags": [
          "Events"
        ],
        "operationId": "Events_GetUpcomingEvents",
        "parameters": [
          {
            "name": "familyId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EventDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Family": {
      "get": {
        "tags": [
          "Family"
        ],
        "operationId": "Family_GetAllFamilies",
        "parameters": [
          {
            "name": "ids",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FamilyDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "post": {
        "tags": [
          "Family"
        ],
        "operationId": "Family_CreateFamily",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFamilyCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "guid"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Family/{id}": {
      "get": {
        "tags": [
          "Family"
        ],
        "operationId": "Family_GetFamilyById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FamilyDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "put": {
        "tags": [
          "Family"
        ],
        "operationId": "Family_UpdateFamily",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateFamilyCommand"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Family"
        ],
        "operationId": "Family_DeleteFamily",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Family/search": {
      "get": {
        "tags": [
          "Family"
        ],
        "operationId": "Family_Search",
        "parameters": [
          {
            "name": "SearchQuery",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "Visibility",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "Page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 3
          },
          {
            "name": "ItemsPerPage",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 4
          },
          {
            "name": "SortBy",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 5
          },
          {
            "name": "SortOrder",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 6
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedListOfFamilyDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Family/by-ids": {
      "get": {
        "tags": [
          "Family"
        ],
        "operationId": "Family_GetFamiliesByIds",
        "parameters": [
          {
            "name": "ids",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FamilyDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/UserProfiles/me": {
      "get": {
        "tags": [
          "UserProfiles"
        ],
        "operationId": "UserProfiles_GetCurrentUserProfile",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/UserProfiles": {
      "get": {
        "tags": [
          "UserProfiles"
        ],
        "operationId": "UserProfiles_GetAllUserProfiles",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserProfileDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/UserProfiles/byExternalId/{externalId}": {
      "get": {
        "tags": [
          "UserProfiles"
        ],
        "operationId": "UserProfiles_GetUserProfileByExternalId",
        "parameters": [
          {
            "name": "externalId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/UserProfiles/{id}": {
      "get": {
        "tags": [
          "UserProfiles"
        ],
        "operationId": "UserProfiles_GetUserProfileById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/UserProfiles/{userId}": {
      "put": {
        "tags": [
          "UserProfiles"
        ],
        "operationId": "UserProfiles_UpdateUserProfile",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserProfileCommand"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Result"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Members/search": {
      "get": {
        "tags": [
          "Members"
        ],
        "operationId": "Members_Search",
        "parameters": [
          {
            "name": "SearchQuery",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "Gender",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "FamilyId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "Page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 4
          },
          {
            "name": "ItemsPerPage",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 5
          },
          {
            "name": "SortBy",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 6
          },
          {
            "name": "SortOrder",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 7
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedListOfMemberListDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Members/{id}": {
      "get": {
        "tags": [
          "Members"
        ],
        "operationId": "Members_GetMemberById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MemberDetailDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "put": {
        "tags": [
          "Members"
        ],
        "operationId": "Members_UpdateMember",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMemberCommand"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Members"
        ],
        "operationId": "Members_DeleteMember",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Members/by-ids": {
      "get": {
        "tags": [
          "Members"
        ],
        "operationId": "Members_GetMembersByIds",
        "parameters": [
          {
            "name": "ids",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MemberListDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Members": {
      "post": {
        "tags": [
          "Members"
        ],
        "operationId": "Members_CreateMember",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMemberCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "guid"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Relationships": {
      "get": {
        "tags": [
          "Relationships"
        ],
        "operationId": "Relationships_GetRelationships",
        "parameters": [
          {
            "name": "FamilyId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "SourceMemberId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "TargetMemberId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "Type",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 4
          },
          {
            "name": "Page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 5
          },
          {
            "name": "ItemsPerPage",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 6
          },
          {
            "name": "SortBy",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 7
          },
          {
            "name": "SortOrder",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 8
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedListOfRelationshipListDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "post": {
        "tags": [
          "Relationships"
        ],
        "operationId": "Relationships_CreateRelationship",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRelationshipCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "guid"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Relationships/{id}": {
      "get": {
        "tags": [
          "Relationships"
        ],
        "operationId": "Relationships_GetRelationshipById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "put": {
        "tags": [
          "Relationships"
        ],
        "operationId": "Relationships_UpdateRelationship",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRelationshipCommand"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Relationships"
        ],
        "operationId": "Relationships_DeleteRelationship",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Relationships/search": {
      "get": {
        "tags": [
          "Relationships"
        ],
        "operationId": "Relationships_Search",
        "parameters": [
          {
            "name": "SourceMemberId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "TargetMemberId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "Type",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "Page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 4
          },
          {
            "name": "ItemsPerPage",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 5
          },
          {
            "name": "SortBy",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 6
          },
          {
            "name": "SortOrder",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 7
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedListOfRelationshipListDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Upload": {
      "post": {
        "tags": [
          "Upload"
        ],
        "operationId": "Upload_Upload",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "properties": {
                  "ContentType": {
                    "type": "string",
                    "nullable": true
                  },
                  "ContentDisposition": {
                    "type": "string",
                    "nullable": true
                  },
                  "Headers": {
                    "type": "array",
                    "nullable": true,
                    "items": {}
                  },
                  "Length": {
                    "type": "integer",
                    "format": "int64"
                  },
                  "Name": {
                    "type": "string",
                    "nullable": true
                  },
                  "FileName": {
                    "type": "string",
                    "nullable": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResultOfString"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Upload/preview/{fileName}": {
      "get": {
        "tags": [
          "Upload"
        ],
        "operationId": "Upload_GetUploadedFile",
        "parameters": [
          {
            "name": "fileName",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/activities/recent": {
      "get": {
        "tags": [
          "UserActivities"
        ],
        "operationId": "UserActivities_GetRecentActivities",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            },
            "x-position": 1
          },
          {
            "name": "targetType",
            "in": "query",
            "schema": {
              "oneOf": [
                {
                  "nullable": true,
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/TargetType"
                    }
                  ]
                }
              ]
            },
            "x-position": 2
          },
          {
            "name": "targetId",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "groupId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 4
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserActivityDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/UserPreferences": {
      "get": {
        "tags": [
          "UserPreferences"
        ],
        "operationId": "UserPreferences_GetUserPreferences",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPreferenceDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "put": {
        "tags": [
          "UserPreferences"
        ],
        "operationId": "UserPreferences_SaveUserPreferences",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SaveUserPreferencesCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Result"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "BiographyResultDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "content": {
            "type": "string"
          },
          "provider": {
            "$ref": "#/components/schemas/AIProviderType"
          },
          "tokensUsed": {
            "type": "integer",
            "format": "int32"
          },
          "generatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "userPrompt": {
            "type": "string"
          }
        }
      },
      "AIProviderType": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "None",
          "Gemini",
          "OpenAI",
          "LocalAI"
        ],
        "enum": [
          0,
          1,
          2,
          3
        ]
      },
      "GenerateBiographyCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "memberId": {
            "type": "string",
            "format": "guid"
          },
          "style": {
            "$ref": "#/components/schemas/BiographyStyle"
          },
          "generatedFromDB": {
            "type": "boolean"
          },
          "userPrompt": {
            "type": "string",
            "nullable": true
          },
          "language": {
            "type": "string"
          }
        }
      },
      "BiographyStyle": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Emotional",
          "Historical",
          "Storytelling",
          "Formal",
          "Informal"
        ],
        "enum": [
          0,
          1,
          2,
          3,
          4
        ]
      },
      "AIBiographyDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "memberId": {
            "type": "string",
            "format": "guid"
          },
          "style": {
            "$ref": "#/components/schemas/BiographyStyle"
          },
          "content": {
            "type": "string"
          },
          "provider": {
            "$ref": "#/components/schemas/AIProviderType"
          },
          "userPrompt": {
            "type": "string"
          },
          "generatedFromDB": {
            "type": "boolean"
          },
          "tokensUsed": {
            "type": "integer",
            "format": "int32"
          },
          "metadata": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/JsonDocument"
              }
            ]
          },
          "created": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "JsonDocument": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "isDisposable": {
            "type": "boolean"
          },
          "rootElement": {}
        }
      },
      "AIProviderDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "providerType": {
            "$ref": "#/components/schemas/AIProviderType"
          },
          "name": {
            "type": "string"
          },
          "isEnabled": {
            "type": "boolean"
          },
          "dailyUsageLimit": {
            "type": "integer",
            "format": "int32"
          },
          "currentDailyUsage": {
            "type": "integer",
            "format": "int32"
          },
          "maxTokensPerRequest": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "SaveAIBiographyCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "memberId": {
            "type": "string",
            "format": "guid"
          },
          "style": {
            "$ref": "#/components/schemas/BiographyStyle"
          },
          "content": {
            "type": "string"
          },
          "provider": {
            "$ref": "#/components/schemas/AIProviderType"
          },
          "userPrompt": {
            "type": "string"
          },
          "generatedFromDB": {
            "type": "boolean"
          },
          "tokensUsed": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "AuthResult": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "userId": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "username": {
            "type": "string",
            "nullable": true
          },
          "accessToken": {
            "type": "string",
            "nullable": true
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "succeeded": {
            "type": "boolean"
          },
          "errors": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "LoginRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        }
      },
      "RegisterRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "username": {
            "type": "string"
          }
        }
      },
      "ChatResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "response": {
            "type": "string"
          },
          "context": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "ChatRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "message": {
            "type": "string"
          },
          "sessionId": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "DashboardStatsDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "totalFamilies": {
            "type": "integer",
            "format": "int32"
          },
          "totalMembers": {
            "type": "integer",
            "format": "int32"
          },
          "totalRelationships": {
            "type": "integer",
            "format": "int32"
          },
          "totalGenerations": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "EventDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "startDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "location": {
            "type": "string",
            "nullable": true
          },
          "familyId": {
            "type": "string",
            "format": "guid",
            "nullable": true
          },
          "type": {
            "$ref": "#/components/schemas/EventType"
          },
          "color": {
            "type": "string",
            "nullable": true
          },
          "relatedMembers": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "guid"
            }
          }
        }
      },
      "EventType": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Birth",
          "Marriage",
          "Death",
          "Migration",
          "Other"
        ],
        "enum": [
          0,
          1,
          2,
          3,
          4
        ]
      },
      "CreateEventCommand": {
        "allOf": [
          {
            "$ref": "#/components/schemas/EventInput"
          },
          {
            "type": "object",
            "additionalProperties": false
          }
        ]
      },
      "EventInput": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "startDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "location": {
            "type": "string",
            "nullable": true
          },
          "familyId": {
            "type": "string",
            "format": "guid",
            "nullable": true
          },
          "type": {
            "$ref": "#/components/schemas/EventType"
          },
          "color": {
            "type": "string",
            "nullable": true
          },
          "relatedMembers": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "guid"
            }
          }
        }
      },
      "UpdateEventCommand": {
        "allOf": [
          {
            "$ref": "#/components/schemas/EventInput"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "id": {
                "type": "string",
                "format": "guid"
              }
            }
          }
        ]
      },
      "PaginatedListOfEventDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EventDto"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "totalItems": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "FamilyDto": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BaseAuditableDto"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "id": {
                "type": "string",
                "format": "guid"
              },
              "name": {
                "type": "string"
              },
              "description": {
                "type": "string",
                "nullable": true
              },
              "address": {
                "type": "string",
                "nullable": true
              },
              "totalMembers": {
                "type": "integer",
                "format": "int32"
              },
              "totalGenerations": {
                "type": "integer",
                "format": "int32",
                "nullable": true
              },
              "visibility": {
                "type": "string",
                "nullable": true
              },
              "avatarUrl": {
                "type": "string",
                "nullable": true
              }
            }
          }
        ]
      },
      "BaseAuditableDto": {
        "type": "object",
        "x-abstract": true,
        "additionalProperties": false,
        "properties": {
          "created": {
            "type": "string",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "nullable": true
          },
          "lastModified": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "lastModifiedBy": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "PaginatedListOfFamilyDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FamilyDto"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "totalItems": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "CreateFamilyCommand": {
        "allOf": [
          {
            "$ref": "#/components/schemas/FamilyInput"
          },
          {
            "type": "object",
            "additionalProperties": false
          }
        ]
      },
      "FamilyInput": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "address": {
            "type": "string",
            "nullable": true
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          },
          "visibility": {
            "type": "string"
          }
        }
      },
      "UpdateFamilyCommand": {
        "allOf": [
          {
            "$ref": "#/components/schemas/FamilyInput"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "id": {
                "type": "string",
                "format": "guid"
              }
            }
          }
        ]
      },
      "UserProfileDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "externalId": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "avatar": {
            "type": "string",
            "nullable": true
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "Result": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "isSuccess": {
            "type": "boolean"
          },
          "error": {
            "type": "string",
            "nullable": true
          },
          "errorSource": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "UpdateUserProfileCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "avatar": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "userMetadata": {
            "type": "object",
            "nullable": true,
            "additionalProperties": {}
          }
        }
      },
      "PaginatedListOfMemberListDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MemberListDto"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "totalItems": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "MemberListDto": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BaseAuditableDto"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "id": {
                "type": "string",
                "format": "guid"
              },
              "fullName": {
                "type": "string"
              },
              "avatarUrl": {
                "type": "string",
                "nullable": true
              },
              "familyId": {
                "type": "string",
                "format": "guid"
              },
              "isRoot": {
                "type": "boolean"
              },
              "dateOfBirth": {
                "type": "string",
                "format": "date-time",
                "nullable": true
              },
              "gender": {
                "type": "string",
                "nullable": true
              },
              "relationships": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/RelationshipDto"
                }
              }
            }
          }
        ]
      },
      "RelationshipDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "sourceMemberId": {
            "type": "string",
            "format": "guid"
          },
          "sourceMember": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/RelationshipMemberDto"
              }
            ]
          },
          "targetMemberId": {
            "type": "string",
            "format": "guid"
          },
          "targetMember": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/RelationshipMemberDto"
              }
            ]
          },
          "type": {
            "$ref": "#/components/schemas/RelationshipType"
          },
          "order": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "RelationshipMemberDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "fullName": {
            "type": "string",
            "nullable": true
          },
          "isRoot": {
            "type": "boolean"
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          },
          "dateOfBirth": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "RelationshipType": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Father",
          "Mother",
          "Wife",
          "Husband"
        ],
        "enum": [
          0,
          1,
          2,
          3
        ]
      },
      "MemberDetailDto": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BaseAuditableDto"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "id": {
                "type": "string",
                "format": "guid"
              },
              "lastName": {
                "type": "string"
              },
              "firstName": {
                "type": "string"
              },
              "fullName": {
                "type": "string"
              },
              "nickname": {
                "type": "string",
                "nullable": true
              },
              "dateOfBirth": {
                "type": "string",
                "format": "date-time",
                "nullable": true
              },
              "dateOfDeath": {
                "type": "string",
                "format": "date-time",
                "nullable": true
              },
              "placeOfBirth": {
                "type": "string",
                "nullable": true
              },
              "placeOfDeath": {
                "type": "string",
                "nullable": true
              },
              "gender": {
                "type": "string",
                "nullable": true
              },
              "avatarUrl": {
                "type": "string",
                "nullable": true
              },
              "occupation": {
                "type": "string",
                "nullable": true
              },
              "familyId": {
                "type": "string",
                "format": "guid"
              },
              "biography": {
                "type": "string",
                "nullable": true
              },
              "relationships": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/RelationshipDto"
                }
              }
            }
          }
        ]
      },
      "CreateMemberCommand": {
        "allOf": [
          {
            "$ref": "#/components/schemas/MemberInput"
          },
          {
            "type": "object",
            "additionalProperties": false
          }
        ]
      },
      "MemberInput": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "lastName": {
            "type": "string"
          },
          "firstName": {
            "type": "string"
          },
          "nickname": {
            "type": "string",
            "nullable": true
          },
          "dateOfBirth": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "dateOfDeath": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "placeOfBirth": {
            "type": "string",
            "nullable": true
          },
          "placeOfDeath": {
            "type": "string",
            "nullable": true
          },
          "gender": {
            "type": "string",
            "nullable": true
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          },
          "occupation": {
            "type": "string",
            "nullable": true
          },
          "biography": {
            "type": "string",
            "nullable": true
          },
          "familyId": {
            "type": "string",
            "format": "guid"
          },
          "isRoot": {
            "type": "boolean"
          }
        }
      },
      "UpdateMemberCommand": {
        "allOf": [
          {
            "$ref": "#/components/schemas/MemberInput"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "id": {
                "type": "string",
                "format": "guid"
              }
            }
          }
        ]
      },
      "PaginatedListOfRelationshipListDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RelationshipListDto"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "totalItems": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "RelationshipListDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "sourceMemberId": {
            "type": "string",
            "format": "guid"
          },
          "targetMemberId": {
            "type": "string",
            "format": "guid"
          },
          "type": {
            "$ref": "#/components/schemas/RelationshipType"
          },
          "order": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "sourceMember": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/RelationshipMemberDto"
              }
            ]
          },
          "targetMember": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/RelationshipMemberDto"
              }
            ]
          }
        }
      },
      "CreateRelationshipCommand": {
        "allOf": [
          {
            "$ref": "#/components/schemas/RelationshipInput"
          },
          {
            "type": "object",
            "additionalProperties": false
          }
        ]
      },
      "RelationshipInput": {
        "type": "object",
        "x-abstract": true,
        "additionalProperties": false,
        "properties": {
          "sourceMemberId": {
            "type": "string",
            "format": "guid"
          },
          "targetMemberId": {
            "type": "string",
            "format": "guid"
          },
          "type": {
            "$ref": "#/components/schemas/RelationshipType"
          },
          "order": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "UpdateRelationshipCommand": {
        "allOf": [
          {
            "$ref": "#/components/schemas/RelationshipInput"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "id": {
                "type": "string",
                "format": "guid"
              }
            }
          }
        ]
      },
      "ResultOfString": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "isSuccess": {
            "type": "boolean"
          },
          "error": {
            "type": "string",
            "nullable": true
          },
          "errorSource": {
            "type": "string",
            "nullable": true
          },
          "value": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "UserActivityDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "userProfileId": {
            "type": "string",
            "format": "guid"
          },
          "actionType": {
            "$ref": "#/components/schemas/UserActionType"
          },
          "targetType": {
            "$ref": "#/components/schemas/TargetType"
          },
          "targetId": {
            "type": "string"
          },
          "groupId": {
            "type": "string",
            "format": "guid",
            "nullable": true
          },
          "metadata": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/JsonDocument"
              }
            ]
          },
          "activitySummary": {
            "type": "string"
          },
          "created": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "UserActionType": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Login",
          "Logout",
          "CreateFamily",
          "UpdateFamily",
          "DeleteFamily",
          "CreateMember",
          "UpdateMember",
          "DeleteMember",
          "CreateEvent",
          "UpdateEvent",
          "DeleteEvent",
          "CreateRelationship",
          "UpdateRelationship",
          "DeleteRelationship",
          "ChangeRole"
        ],
        "enum": [
          0,
          1,
          2,
          3,
          4,
          5,
          6,
          7,
          8,
          9,
          10,
          11,
          12,
          13,
          14
        ]
      },
      "TargetType": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Family",
          "Member",
          "UserProfile",
          "Event",
          "Relationship"
        ],
        "enum": [
          0,
          1,
          2,
          3,
          4
        ]
      },
      "UserPreferenceDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "theme": {
            "$ref": "#/components/schemas/Theme"
          },
          "language": {
            "$ref": "#/components/schemas/Language"
          },
          "emailNotificationsEnabled": {
            "type": "boolean"
          },
          "smsNotificationsEnabled": {
            "type": "boolean"
          },
          "inAppNotificationsEnabled": {
            "type": "boolean"
          }
        }
      },
      "Theme": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Light",
          "Dark"
        ],
        "enum": [
          0,
          1
        ]
      },
      "Language": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "English",
          "Vietnamese"
        ],
        "enum": [
          0,
          1
        ]
      },
      "SaveUserPreferencesCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "theme": {
            "$ref": "#/components/schemas/Theme"
          },
          "language": {
            "$ref": "#/components/schemas/Language"
          },
          "emailNotificationsEnabled": {
            "type": "boolean"
          },
          "smsNotificationsEnabled": {
            "type": "boolean"
          },
          "inAppNotificationsEnabled": {
            "type": "boolean"
          }
        }
      }
    },
    "securitySchemes": {
      "JWT": {
        "type": "apiKey",
        "description": "Nhập JWT token theo định dạng: Bearer {your JWT token}",
        "name": "Authorization",
        "in": "header"
      }
    }
  },
  "security": [
    {
      "JWT": []
    }
  ]
}