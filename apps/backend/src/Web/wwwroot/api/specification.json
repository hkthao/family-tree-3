{
  "x-generator": "NSwag v14.0.3.0 (NJsonSchema v11.0.0.0 (Newtonsoft.Json v13.0.0.0))",
  "openapi": "3.0.0",
  "info": {
    "title": "API Dòng Họ Việt",
    "description": "API để quản lý thông tin Dòng Họ Việt, bao gồm các dòng họ, thành viên, và các mối quan hệ.",
    "version": "1.0.0"
  },
  "paths": {
    "/api/NaturalLanguageInput/generate-event-data": {
      "post": {
        "tags": [
          "NaturalLanguageInput"
        ],
        "operationId": "NaturalLanguageInput_GenerateEventData",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateEventDataCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/Faces/detect": {
      "post": {
        "tags": [
          "Faces"
        ],
        "operationId": "Faces_DetectFaces",
        "parameters": [
          {
            "name": "returnCrop",
            "in": "query",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "properties": {
                  "ContentType": {
                    "type": "string",
                    "nullable": true
                  },
                  "ContentDisposition": {
                    "type": "string",
                    "nullable": true
                  },
                  "Headers": {
                    "type": "array",
                    "nullable": true,
                    "items": {}
                  },
                  "Length": {
                    "type": "integer",
                    "format": "int64"
                  },
                  "Name": {
                    "type": "string",
                    "nullable": true
                  },
                  "FileName": {
                    "type": "string",
                    "nullable": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FaceDetectionResultDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/Faces/detected/{imageId}": {
      "get": {
        "tags": [
          "Faces"
        ],
        "operationId": "Faces_GetDetectedFaces",
        "parameters": [
          {
            "name": "imageId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DetectedFaceDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/Faces/label": {
      "post": {
        "tags": [
          "Faces"
        ],
        "operationId": "Faces_LabelFace",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LabelFaceCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/AI/biography": {
      "post": {
        "tags": [
          "AI"
        ],
        "operationId": "AI_GenerateBiography",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateBiographyCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BiographyResultDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Chat": {
      "post": {
        "tags": [
          "Chat"
        ],
        "operationId": "Chat_ChatWithAssistant",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/Chunk/upload": {
      "post": {
        "tags": [
          "Chunk"
        ],
        "operationId": "Chunk_Upload",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "nullable": true
                  },
                  "fileId": {
                    "type": "string",
                    "nullable": true
                  },
                  "familyId": {
                    "type": "string",
                    "nullable": true
                  },
                  "category": {
                    "type": "string",
                    "nullable": true
                  },
                  "createdBy": {
                    "type": "string",
                    "nullable": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TextChunk"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Chunk/approve": {
      "post": {
        "tags": [
          "Chunk"
        ],
        "operationId": "Chunk_ApproveChunks",
        "requestBody": {
          "x-name": "chunks",
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/TextChunk"
                }
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": ""
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Dashboard/stats": {
      "get": {
        "tags": [
          "Dashboard"
        ],
        "operationId": "Dashboard_GetDashboardStats",
        "parameters": [
          {
            "name": "familyId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardStatsDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/event": {
      "get": {
        "tags": [
          "Events"
        ],
        "operationId": "Events_GetEvents",
        "parameters": [
          {
            "name": "SearchQuery",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "EventType",
            "in": "query",
            "schema": {
              "nullable": true,
              "oneOf": [
                {
                  "$ref": "#/components/schemas/EventType"
                }
              ]
            },
            "x-position": 2
          },
          {
            "name": "FamilyId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "StartDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 4
          },
          {
            "name": "EndDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 5
          },
          {
            "name": "Location",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 6
          },
          {
            "name": "RelatedMemberId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 7
          },
          {
            "name": "Page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 8
          },
          {
            "name": "ItemsPerPage",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 9
          },
          {
            "name": "SortBy",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 10
          },
          {
            "name": "SortOrder",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 11
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EventDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "post": {
        "tags": [
          "Events"
        ],
        "operationId": "Events_Create",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEventCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "guid"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/event/{id}": {
      "get": {
        "tags": [
          "Events"
        ],
        "operationId": "Events_GetEventById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EventDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "put": {
        "tags": [
          "Events"
        ],
        "operationId": "Events_Update",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateEventCommand"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Events"
        ],
        "operationId": "Events_Delete",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/event/search": {
      "get": {
        "tags": [
          "Events"
        ],
        "operationId": "Events_Search",
        "parameters": [
          {
            "name": "SearchQuery",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "StartDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "EndDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "Type",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 4
          },
          {
            "name": "FamilyId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 5
          },
          {
            "name": "MemberId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 6
          },
          {
            "name": "Page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 7
          },
          {
            "name": "ItemsPerPage",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 8
          },
          {
            "name": "SortBy",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 9
          },
          {
            "name": "SortOrder",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 10
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedListOfEventDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/event/upcoming": {
      "get": {
        "tags": [
          "Events"
        ],
        "operationId": "Events_GetUpcomingEvents",
        "parameters": [
          {
            "name": "familyId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EventDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/event/generate-event-data": {
      "post": {
        "tags": [
          "Events"
        ],
        "operationId": "Events_GenerateEventData",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateEventDataCommand2"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AIEventDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/event/bulk-create": {
      "post": {
        "tags": [
          "Events"
        ],
        "operationId": "Events_CreateEvents",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEventsCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "format": "guid"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Family": {
      "get": {
        "tags": [
          "Family"
        ],
        "operationId": "Family_GetAllFamilies",
        "parameters": [
          {
            "name": "ids",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FamilyDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "post": {
        "tags": [
          "Family"
        ],
        "operationId": "Family_CreateFamily",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFamilyCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "guid"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Family/{id}": {
      "get": {
        "tags": [
          "Family"
        ],
        "operationId": "Family_GetFamilyById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FamilyDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "put": {
        "tags": [
          "Family"
        ],
        "operationId": "Family_UpdateFamily",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateFamilyCommand"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Family"
        ],
        "operationId": "Family_DeleteFamily",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Family/search": {
      "get": {
        "tags": [
          "Family"
        ],
        "operationId": "Family_Search",
        "parameters": [
          {
            "name": "SearchQuery",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "Visibility",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "Page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 3
          },
          {
            "name": "ItemsPerPage",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 4
          },
          {
            "name": "SortBy",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 5
          },
          {
            "name": "SortOrder",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 6
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedListOfFamilyDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Family/bulk-create": {
      "post": {
        "tags": [
          "Family"
        ],
        "operationId": "Family_CreateFamilies",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFamiliesCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "format": "guid"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Family/generate-family-data": {
      "post": {
        "tags": [
          "Family"
        ],
        "operationId": "Family_GenerateFamilyData",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateFamilyDataCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FamilyDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Family/by-ids": {
      "get": {
        "tags": [
          "Family"
        ],
        "operationId": "Family_GetFamiliesByIds",
        "parameters": [
          {
            "name": "ids",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FamilyDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Member/search": {
      "get": {
        "tags": [
          "Members"
        ],
        "operationId": "Members_Search",
        "parameters": [
          {
            "name": "SearchQuery",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "Gender",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "FamilyId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "Page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 4
          },
          {
            "name": "ItemsPerPage",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 5
          },
          {
            "name": "SortBy",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 6
          },
          {
            "name": "SortOrder",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 7
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedListOfMemberListDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Member/{id}": {
      "get": {
        "tags": [
          "Members"
        ],
        "operationId": "Members_GetMemberById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MemberDetailDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "put": {
        "tags": [
          "Members"
        ],
        "operationId": "Members_UpdateMember",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMemberCommand"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Members"
        ],
        "operationId": "Members_DeleteMember",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Member/by-ids": {
      "get": {
        "tags": [
          "Members"
        ],
        "operationId": "Members_GetMembersByIds",
        "parameters": [
          {
            "name": "ids",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MemberListDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Member/managed": {
      "get": {
        "tags": [
          "Members"
        ],
        "operationId": "Members_GetEditableMembers",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MemberListDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Member": {
      "post": {
        "tags": [
          "Members"
        ],
        "operationId": "Members_CreateMember",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMemberCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "guid"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Member/generate-member-data": {
      "post": {
        "tags": [
          "Members"
        ],
        "operationId": "Members_GenerateMemberData",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateMemberDataCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MemberDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Member/bulk-create": {
      "post": {
        "tags": [
          "Members"
        ],
        "operationId": "Members_CreateMembers",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMembersCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "format": "guid"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Member/{id}/biography": {
      "put": {
        "tags": [
          "Members"
        ],
        "operationId": "Members_UpdateMemberBiography",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMemberBiographyCommand"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Relationship": {
      "get": {
        "tags": [
          "Relationships"
        ],
        "operationId": "Relationships_GetRelationships",
        "parameters": [
          {
            "name": "FamilyId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "SourceMemberId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "TargetMemberId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "Type",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 4
          },
          {
            "name": "Page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 5
          },
          {
            "name": "ItemsPerPage",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 6
          },
          {
            "name": "SortBy",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 7
          },
          {
            "name": "SortOrder",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 8
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedListOfRelationshipListDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "post": {
        "tags": [
          "Relationships"
        ],
        "operationId": "Relationships_CreateRelationship",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRelationshipCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "guid"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Relationship/{id}": {
      "get": {
        "tags": [
          "Relationships"
        ],
        "operationId": "Relationships_GetRelationshipById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "put": {
        "tags": [
          "Relationships"
        ],
        "operationId": "Relationships_UpdateRelationship",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRelationshipCommand"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Relationships"
        ],
        "operationId": "Relationships_DeleteRelationship",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Relationship/search": {
      "get": {
        "tags": [
          "Relationships"
        ],
        "operationId": "Relationships_Search",
        "parameters": [
          {
            "name": "SourceMemberId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "TargetMemberId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "Type",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "Page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 4
          },
          {
            "name": "ItemsPerPage",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "x-position": 5
          },
          {
            "name": "SortBy",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 6
          },
          {
            "name": "SortOrder",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 7
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedListOfRelationshipListDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Relationship/generate-relationship-data": {
      "post": {
        "tags": [
          "Relationships"
        ],
        "operationId": "Relationships_GenerateRelationshipData",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateRelationshipDataCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RelationshipDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Relationship/bulk-create": {
      "post": {
        "tags": [
          "Relationships"
        ],
        "operationId": "Relationships_CreateRelationships",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRelationshipsCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "format": "guid"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Upload": {
      "post": {
        "tags": [
          "Upload"
        ],
        "operationId": "Upload_Upload",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "properties": {
                  "ContentType": {
                    "type": "string",
                    "nullable": true
                  },
                  "ContentDisposition": {
                    "type": "string",
                    "nullable": true
                  },
                  "Headers": {
                    "type": "array",
                    "nullable": true,
                    "items": {}
                  },
                  "Length": {
                    "type": "integer",
                    "format": "int64"
                  },
                  "Name": {
                    "type": "string",
                    "nullable": true
                  },
                  "FileName": {
                    "type": "string",
                    "nullable": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResultOfString"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/Upload/preview/{fileName}": {
      "get": {
        "tags": [
          "Upload"
        ],
        "operationId": "Upload_GetUploadedFile",
        "parameters": [
          {
            "name": "fileName",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/activity/recent": {
      "get": {
        "tags": [
          "UserActivities"
        ],
        "operationId": "UserActivities_GetRecentActivities",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            },
            "x-position": 1
          },
          {
            "name": "targetType",
            "in": "query",
            "schema": {
              "oneOf": [
                {
                  "nullable": true,
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/TargetType"
                    }
                  ]
                }
              ]
            },
            "x-position": 2
          },
          {
            "name": "targetId",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "groupId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 4
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserActivityDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/UserPreferences": {
      "get": {
        "tags": [
          "UserPreferences"
        ],
        "operationId": "UserPreferences_GetUserPreferences",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPreferenceDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "put": {
        "tags": [
          "UserPreferences"
        ],
        "operationId": "UserPreferences_SaveUserPreferences",
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SaveUserPreferencesCommand"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Result"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/user-profile/me": {
      "get": {
        "tags": [
          "UserProfiles"
        ],
        "operationId": "UserProfiles_GetCurrentUserProfile",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/user-profile": {
      "get": {
        "tags": [
          "UserProfiles"
        ],
        "operationId": "UserProfiles_GetAllUserProfiles",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserProfileDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/user-profile/byExternalId/{externalId}": {
      "get": {
        "tags": [
          "UserProfiles"
        ],
        "operationId": "UserProfiles_GetUserProfileByExternalId",
        "parameters": [
          {
            "name": "externalId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/user-profile/{id}": {
      "get": {
        "tags": [
          "UserProfiles"
        ],
        "operationId": "UserProfiles_GetUserProfileById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/api/user-profile/{userId}": {
      "put": {
        "tags": [
          "UserProfiles"
        ],
        "operationId": "UserProfiles_UpdateUserProfile",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "command",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserProfileCommand"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Result"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "GenerateEventDataCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "prompt": {
            "type": "string"
          }
        }
      },
      "FaceDetectionResultDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "boundingBox": {
            "$ref": "#/components/schemas/BoundingBoxDto"
          },
          "confidence": {
            "type": "number",
            "format": "float"
          },
          "thumbnail": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "BoundingBoxDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "x": {
            "type": "integer",
            "format": "int32"
          },
          "y": {
            "type": "integer",
            "format": "int32"
          },
          "width": {
            "type": "integer",
            "format": "int32"
          },
          "height": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "DetectedFaceDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "boundingBox": {
            "$ref": "#/components/schemas/BoundingBoxDto"
          },
          "confidence": {
            "type": "number",
            "format": "float"
          },
          "thumbnail": {
            "type": "string",
            "nullable": true
          },
          "memberId": {
            "type": "string",
            "format": "guid",
            "nullable": true
          },
          "memberName": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "LabelFaceCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "memberId": {
            "type": "string",
            "format": "guid"
          },
          "faceId": {
            "type": "string"
          },
          "boundingBox": {
            "$ref": "#/components/schemas/BoundingBoxDto"
          },
          "confidence": {
            "type": "number",
            "format": "float"
          },
          "thumbnail": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "BiographyResultDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "content": {
            "type": "string"
          }
        }
      },
      "GenerateBiographyCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "memberId": {
            "type": "string",
            "format": "guid"
          },
          "prompt": {
            "type": "string"
          },
          "tone": {
            "$ref": "#/components/schemas/BiographyTone"
          },
          "useSystemData": {
            "type": "boolean"
          }
        }
      },
      "BiographyTone": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Emotional",
          "Historical",
          "Storytelling",
          "Formal",
          "Informal",
          "Neutral"
        ],
        "enum": [
          0,
          1,
          2,
          3,
          4,
          5
        ]
      },
      "ChatResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "response": {
            "type": "string"
          },
          "context": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "sessionId": {
            "type": "string",
            "nullable": true
          },
          "model": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ChatRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "message": {
            "type": "string"
          },
          "sessionId": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "TextChunk": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "embedding": {
            "type": "array",
            "nullable": true,
            "items": {
              "type": "number",
              "format": "float"
            }
          },
          "score": {
            "type": "number",
            "format": "float"
          }
        }
      },
      "ProblemDetails": {
        "type": "object",
        "additionalProperties": {
          "nullable": true
        },
        "properties": {
          "type": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "detail": {
            "type": "string",
            "nullable": true
          },
          "instance": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "DashboardStatsDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "totalFamilies": {
            "type": "integer",
            "format": "int32"
          },
          "totalMembers": {
            "type": "integer",
            "format": "int32"
          },
          "totalRelationships": {
            "type": "integer",
            "format": "int32"
          },
          "totalGenerations": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "EventDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "name": {
            "type": "string"
          },
          "code": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "startDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "location": {
            "type": "string",
            "nullable": true
          },
          "familyId": {
            "type": "string",
            "format": "guid",
            "nullable": true
          },
          "type": {
            "$ref": "#/components/schemas/EventType"
          },
          "color": {
            "type": "string",
            "nullable": true
          },
          "relatedMembers": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "guid"
            }
          }
        }
      },
      "EventType": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Birth",
          "Marriage",
          "Death",
          "Migration",
          "Other"
        ],
        "enum": [
          0,
          1,
          2,
          3,
          4
        ]
      },
      "CreateEventCommand": {
        "allOf": [
          {
            "$ref": "#/components/schemas/EventInput"
          },
          {
            "type": "object",
            "additionalProperties": false
          }
        ]
      },
      "EventInput": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string"
          },
          "code": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "startDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "location": {
            "type": "string",
            "nullable": true
          },
          "familyId": {
            "type": "string",
            "format": "guid",
            "nullable": true
          },
          "type": {
            "$ref": "#/components/schemas/EventType"
          },
          "color": {
            "type": "string",
            "nullable": true
          },
          "relatedMembers": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "guid"
            }
          }
        }
      },
      "UpdateEventCommand": {
        "allOf": [
          {
            "$ref": "#/components/schemas/EventInput"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "id": {
                "type": "string",
                "format": "guid"
              }
            }
          }
        ]
      },
      "PaginatedListOfEventDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EventDto"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "totalItems": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "AIEventDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "startDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "location": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "familyName": {
            "type": "string",
            "nullable": true
          },
          "familyId": {
            "type": "string",
            "format": "guid",
            "nullable": true
          },
          "relatedMembers": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "validationErrors": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "GenerateEventDataCommand2": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "prompt": {
            "type": "string"
          }
        }
      },
      "CreateEventsCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "events": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateEventDto"
            }
          }
        }
      },
      "CreateEventDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string"
          },
          "type": {
            "$ref": "#/components/schemas/EventType"
          },
          "startDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "location": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "familyId": {
            "type": "string",
            "format": "guid",
            "nullable": true
          },
          "relatedMembers": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "FamilyDto": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BaseAuditableDto"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "id": {
                "type": "string",
                "format": "guid"
              },
              "name": {
                "type": "string"
              },
              "code": {
                "type": "string"
              },
              "description": {
                "type": "string",
                "nullable": true
              },
              "address": {
                "type": "string",
                "nullable": true
              },
              "totalMembers": {
                "type": "integer",
                "format": "int32"
              },
              "totalGenerations": {
                "type": "integer",
                "format": "int32",
                "nullable": true
              },
              "visibility": {
                "type": "string",
                "nullable": true
              },
              "avatarUrl": {
                "type": "string",
                "nullable": true
              },
              "validationErrors": {
                "type": "array",
                "nullable": true,
                "items": {
                  "type": "string"
                }
              }
            }
          }
        ]
      },
      "BaseAuditableDto": {
        "type": "object",
        "x-abstract": true,
        "additionalProperties": false,
        "properties": {
          "created": {
            "type": "string",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "nullable": true
          },
          "lastModified": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "lastModifiedBy": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "PaginatedListOfFamilyDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FamilyDto"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "totalItems": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "CreateFamilyCommand": {
        "allOf": [
          {
            "$ref": "#/components/schemas/FamilyInput"
          },
          {
            "type": "object",
            "additionalProperties": false
          }
        ]
      },
      "FamilyInput": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string"
          },
          "code": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "address": {
            "type": "string",
            "nullable": true
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          },
          "visibility": {
            "type": "string"
          }
        }
      },
      "CreateFamiliesCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "families": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FamilyDto"
            }
          }
        }
      },
      "GenerateFamilyDataCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "prompt": {
            "type": "string"
          }
        }
      },
      "UpdateFamilyCommand": {
        "allOf": [
          {
            "$ref": "#/components/schemas/FamilyInput"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "id": {
                "type": "string",
                "format": "guid"
              }
            }
          }
        ]
      },
      "PaginatedListOfMemberListDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MemberListDto"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "totalItems": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "MemberListDto": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BaseAuditableDto"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "id": {
                "type": "string",
                "format": "guid"
              },
              "fullName": {
                "type": "string"
              },
              "code": {
                "type": "string"
              },
              "avatarUrl": {
                "type": "string",
                "nullable": true
              },
              "familyId": {
                "type": "string",
                "format": "guid"
              },
              "familyName": {
                "type": "string",
                "nullable": true
              },
              "isRoot": {
                "type": "boolean"
              },
              "dateOfBirth": {
                "type": "string",
                "format": "date-time",
                "nullable": true
              },
              "dateOfDeath": {
                "type": "string",
                "format": "date-time",
                "nullable": true
              },
              "gender": {
                "type": "string",
                "nullable": true
              },
              "relationships": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/RelationshipDto"
                }
              }
            }
          }
        ]
      },
      "RelationshipDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "sourceMemberId": {
            "type": "string",
            "format": "guid"
          },
          "sourceMember": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/RelationshipMemberDto"
              }
            ]
          },
          "targetMemberId": {
            "type": "string",
            "format": "guid"
          },
          "targetMember": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/RelationshipMemberDto"
              }
            ]
          },
          "type": {
            "$ref": "#/components/schemas/RelationshipType"
          },
          "order": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "familyId": {
            "type": "string",
            "format": "guid"
          }
        }
      },
      "RelationshipMemberDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "fullName": {
            "type": "string",
            "nullable": true
          },
          "isRoot": {
            "type": "boolean"
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          },
          "dateOfBirth": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "RelationshipType": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Father",
          "Mother",
          "Husband",
          "Wife"
        ],
        "enum": [
          0,
          1,
          2,
          3
        ]
      },
      "MemberDetailDto": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BaseAuditableDto"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "id": {
                "type": "string",
                "format": "guid"
              },
              "lastName": {
                "type": "string"
              },
              "firstName": {
                "type": "string"
              },
              "fullName": {
                "type": "string"
              },
              "nickname": {
                "type": "string",
                "nullable": true
              },
              "dateOfBirth": {
                "type": "string",
                "format": "date-time",
                "nullable": true
              },
              "dateOfDeath": {
                "type": "string",
                "format": "date-time",
                "nullable": true
              },
              "placeOfBirth": {
                "type": "string",
                "nullable": true
              },
              "placeOfDeath": {
                "type": "string",
                "nullable": true
              },
              "gender": {
                "type": "string",
                "nullable": true
              },
              "avatarUrl": {
                "type": "string",
                "nullable": true
              },
              "occupation": {
                "type": "string",
                "nullable": true
              },
              "familyId": {
                "type": "string",
                "format": "guid"
              },
              "biography": {
                "type": "string",
                "nullable": true
              },
              "relationships": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/RelationshipDto"
                }
              }
            }
          }
        ]
      },
      "CreateMemberCommand": {
        "allOf": [
          {
            "$ref": "#/components/schemas/MemberInput"
          },
          {
            "type": "object",
            "additionalProperties": false
          }
        ]
      },
      "MemberInput": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "lastName": {
            "type": "string"
          },
          "firstName": {
            "type": "string"
          },
          "code": {
            "type": "string",
            "nullable": true
          },
          "nickname": {
            "type": "string",
            "nullable": true
          },
          "dateOfBirth": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "dateOfDeath": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "placeOfBirth": {
            "type": "string",
            "nullable": true
          },
          "placeOfDeath": {
            "type": "string",
            "nullable": true
          },
          "gender": {
            "type": "string",
            "nullable": true
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          },
          "occupation": {
            "type": "string",
            "nullable": true
          },
          "biography": {
            "type": "string",
            "nullable": true
          },
          "familyId": {
            "type": "string",
            "format": "guid"
          },
          "isRoot": {
            "type": "boolean"
          }
        }
      },
      "MemberDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "firstName": {
            "type": "string"
          },
          "lastName": {
            "type": "string"
          },
          "code": {
            "type": "string"
          },
          "nickname": {
            "type": "string",
            "nullable": true
          },
          "gender": {
            "type": "string",
            "nullable": true
          },
          "dateOfBirth": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "dateOfDeath": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "placeOfBirth": {
            "type": "string",
            "nullable": true
          },
          "placeOfDeath": {
            "type": "string",
            "nullable": true
          },
          "occupation": {
            "type": "string",
            "nullable": true
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          },
          "biography": {
            "type": "string",
            "nullable": true
          },
          "familyId": {
            "type": "string",
            "format": "guid"
          },
          "isRoot": {
            "type": "boolean"
          }
        }
      },
      "GenerateMemberDataCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "prompt": {
            "type": "string"
          }
        }
      },
      "CreateMembersCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "members": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AIMemberDto"
            }
          }
        }
      },
      "AIMemberDto": {
        "allOf": [
          {
            "$ref": "#/components/schemas/MemberDto"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "familyName": {
                "type": "string",
                "nullable": true
              },
              "validationErrors": {
                "type": "array",
                "nullable": true,
                "items": {
                  "type": "string"
                }
              }
            }
          }
        ]
      },
      "UpdateMemberCommand": {
        "allOf": [
          {
            "$ref": "#/components/schemas/MemberInput"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "id": {
                "type": "string",
                "format": "guid"
              }
            }
          }
        ]
      },
      "UpdateMemberBiographyCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "memberId": {
            "type": "string",
            "format": "guid"
          },
          "biographyContent": {
            "type": "string"
          }
        }
      },
      "PaginatedListOfRelationshipListDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RelationshipListDto"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "totalItems": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "RelationshipListDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "sourceMemberId": {
            "type": "string",
            "format": "guid"
          },
          "targetMemberId": {
            "type": "string",
            "format": "guid"
          },
          "type": {
            "$ref": "#/components/schemas/RelationshipType"
          },
          "order": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "startDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "sourceMember": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/RelationshipMemberDto"
              }
            ]
          },
          "targetMember": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/RelationshipMemberDto"
              }
            ]
          }
        }
      },
      "CreateRelationshipCommand": {
        "allOf": [
          {
            "$ref": "#/components/schemas/RelationshipInput"
          },
          {
            "type": "object",
            "additionalProperties": false
          }
        ]
      },
      "RelationshipInput": {
        "type": "object",
        "x-abstract": true,
        "additionalProperties": false,
        "properties": {
          "sourceMemberId": {
            "type": "string",
            "format": "guid"
          },
          "targetMemberId": {
            "type": "string",
            "format": "guid"
          },
          "type": {
            "$ref": "#/components/schemas/RelationshipType"
          },
          "order": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "GenerateRelationshipDataCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "prompt": {
            "type": "string"
          }
        }
      },
      "CreateRelationshipsCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "relationships": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RelationshipInput"
            }
          }
        }
      },
      "UpdateRelationshipCommand": {
        "allOf": [
          {
            "$ref": "#/components/schemas/RelationshipInput"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "id": {
                "type": "string",
                "format": "guid"
              }
            }
          }
        ]
      },
      "ResultOfString": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "isSuccess": {
            "type": "boolean"
          },
          "error": {
            "type": "string",
            "nullable": true
          },
          "errorSource": {
            "type": "string",
            "nullable": true
          },
          "value": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "UserActivityDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "userProfileId": {
            "type": "string",
            "format": "guid"
          },
          "actionType": {
            "$ref": "#/components/schemas/UserActionType"
          },
          "targetType": {
            "$ref": "#/components/schemas/TargetType"
          },
          "targetId": {
            "type": "string"
          },
          "groupId": {
            "type": "string",
            "format": "guid",
            "nullable": true
          },
          "metadata": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/JsonDocument"
              }
            ]
          },
          "activitySummary": {
            "type": "string"
          },
          "created": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "UserActionType": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Login",
          "Logout",
          "CreateFamily",
          "UpdateFamily",
          "DeleteFamily",
          "CreateMember",
          "UpdateMember",
          "DeleteMember",
          "CreateEvent",
          "UpdateEvent",
          "DeleteEvent",
          "CreateRelationship",
          "UpdateRelationship",
          "DeleteRelationship",
          "ChangeRole"
        ],
        "enum": [
          0,
          1,
          2,
          3,
          4,
          5,
          6,
          7,
          8,
          9,
          10,
          11,
          12,
          13,
          14
        ]
      },
      "TargetType": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Family",
          "Member",
          "UserProfile",
          "Event",
          "Relationship"
        ],
        "enum": [
          0,
          1,
          2,
          3,
          4
        ]
      },
      "JsonDocument": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "isDisposable": {
            "type": "boolean"
          },
          "rootElement": {}
        }
      },
      "UserPreferenceDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "theme": {
            "$ref": "#/components/schemas/Theme"
          },
          "language": {
            "$ref": "#/components/schemas/Language"
          },
          "emailNotificationsEnabled": {
            "type": "boolean"
          },
          "smsNotificationsEnabled": {
            "type": "boolean"
          },
          "inAppNotificationsEnabled": {
            "type": "boolean"
          }
        }
      },
      "Theme": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Light",
          "Dark"
        ],
        "enum": [
          0,
          1
        ]
      },
      "Language": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "English",
          "Vietnamese"
        ],
        "enum": [
          0,
          1
        ]
      },
      "Result": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "isSuccess": {
            "type": "boolean"
          },
          "error": {
            "type": "string",
            "nullable": true
          },
          "errorSource": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "SaveUserPreferencesCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "theme": {
            "$ref": "#/components/schemas/Theme"
          },
          "language": {
            "$ref": "#/components/schemas/Language"
          },
          "emailNotificationsEnabled": {
            "type": "boolean"
          },
          "smsNotificationsEnabled": {
            "type": "boolean"
          },
          "inAppNotificationsEnabled": {
            "type": "boolean"
          }
        }
      },
      "UserProfileDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "externalId": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "avatar": {
            "type": "string",
            "nullable": true
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "UpdateUserProfileCommand": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "avatar": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "userMetadata": {
            "type": "object",
            "nullable": true,
            "additionalProperties": {}
          }
        }
      }
    },
    "securitySchemes": {
      "JWT": {
        "type": "apiKey",
        "description": "Nhập JWT token theo định dạng: Bearer {your JWT token}",
        "name": "Authorization",
        "in": "header"
      }
    }
  },
  "security": [
    {
      "JWT": []
    }
  ]
}